(this.webpackJsonphw14=this.webpackJsonphw14||[]).push([[0],{51:function(e,t,a){e.exports=a(88)},56:function(e,t,a){},57:function(e,t,a){},88:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(19),c=a.n(r);a(56),a(57),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o,l=a(2),i=a(3),m=a(6),_=a(4),u=a(17),d=a(5),p=a(25),h=a.n(p),b="geekhub-frontend-js-9.herokuapp.com",E="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZTE5YzIyM2E0MTk5YzAwMjI3NTI2OGEiLCJpYXQiOjE1Nzk2ODc4OTl9.M5q83O_nP6B8SbfNKOs3CaQTu4JaQcbr_MgDLSgqnTU",f=function(){function e(){Object(l.a)(this,e)}return Object(i.a)(e,[{key:"token",value:function(e){switch(e){case"auth":return{"Content-Type":"application/json","x-auth-token":E};case"access":return{"Content-Type":"application/json","x-access-token":E};case"no_token":return{"Content-Type":"application/json","x-auth-token":null};case"none":return{"Content-Type":"application/json"}}}},{key:"get",value:function(e,t){return h()({method:"GET",url:"https://".concat(b,"/").concat(e),headers:this.token(t)})}},{key:"post",value:function(e,t,a){return h()({url:"https://".concat(b,"/").concat(e),method:"POST",headers:this.token(t),data:JSON.stringify(a)})}},{key:"delete",value:function(e,t,a){return h()({url:"https://".concat(b,"/").concat(e),method:"DELETE"})}},{key:"put",value:function(e,t,a){return h()({url:"https://".concat(b,"/").concat(e),headers:this.token(t),data:JSON.stringify(a)})}}]),e}(),g=a(18);!function(e){e.LOGIN="login",e.SIGNUP="signup",e.RESET="reset"}(o||(o={}));var v,N=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){switch(this.props.mode){case o.LOGIN:return s.a.createElement("div",{className:"link__wrapper"},s.a.createElement(g.b,{to:"/signup",className:"link_orange"},"Sign Up"),s.a.createElement(g.b,{to:"/reset",className:"link_orange"},"Reset password"));case o.SIGNUP:return s.a.createElement("div",{className:"link__wrapper"},s.a.createElement(g.b,{to:"/",className:"link_orange"},"Login"),s.a.createElement(g.b,{to:"/reset",className:"link_orange"},"Reset password"));case o.RESET:return s.a.createElement("div",{className:"link__wrapper"},s.a.createElement(g.b,{to:"/",className:"link_orange"},"Login"),s.a.createElement(g.b,{to:"/signup",className:"link_orange"},"Reset password"))}}}]),t}(n.Component);!function(e){e.ADD="ADD",e.CHANGE_DASHBOARD_PAGE="CHANGE_DASHBOARD_PAGE"}(v||(v={}));var w=a(28),O={data:[],dashboard_page:[]};var j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;return t.type===v.ADD?Object.assign({},e,{data:e.data.concat(t.payload)}):t.type===v.CHANGE_DASHBOARD_PAGE?Object.assign({},e,{dashboard_page:e.dashboard_page.concat(t.payload)}):e},y=Object(w.b)(j);y.subscribe((function(){console.log("subscribe",y.getState())}));var k,S=y,C=function(){function e(){Object(l.a)(this,e)}return Object(i.a)(e,[{key:"add",value:function(e){return S.dispatch({type:v.ADD,payload:e}),{type:v.ADD,payload:e}}},{key:"clear",value:function(){S.getState().data=[]}},{key:"change_dashboard_page",value:function(e){return S.dispatch({type:v.CHANGE_DASHBOARD_PAGE,payload:e}),{type:v.CHANGE_DASHBOARD_PAGE,payload:e}}}]),e}(),A=a(9),x=a(7),T=a(20),D=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(_.a)(t).call(this,e))).state={email:"",password:"",isAuth:!1},a.handleSubmit=a.handleSubmit.bind(Object(u.a)(a)),a.handleChange=a.handleChange.bind(Object(u.a)(a)),document.title="Login",a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"redirect",value:function(){if(!0===this.state.isAuth)return s.a.createElement(T.a,{to:"/dashboard"})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=this.state,n=a.email,s=a.password;(new f).post("api/users/login","none",{email:n,password:s}).then((function(e){e.status>199&&e.status<400&&(t.setState({isAuth:!0}),(new C).add({token:E}),t.redirect(),localStorage.setItem("user_id",e.data._id))})).catch((function(e){alert(e)}))}},{key:"handleChange",value:function(e){switch(e.target.name){case"password":this.setState({password:e.target.value});break;case"email":this.setState({email:e.target.value})}}},{key:"render",value:function(){return this.state.isAuth?this.redirect():s.a.createElement("div",{className:"form form__auth block__centered"},s.a.createElement("div",{className:"form__image"},s.a.createElement(A.a,{icon:x.n,size:"7x",color:"gold"})),s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("input",{className:"input__element input__group",type:"email",name:"email",value:this.state.email,placeholder:"Email",onChange:this.handleChange}),s.a.createElement("input",{className:"input__element input__group",type:"password",name:"password",value:this.state.password,placeholder:"Password",onChange:this.handleChange,autoComplete:"password"}),s.a.createElement("button",{className:"form__button",type:"submit"},"Log in")),s.a.createElement(N,{mode:o.LOGIN}))}}]),t}(n.Component),P=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(_.a)(t).call(this,e))).state={email:"",password:"",name:""},document.title="Sign Up",a.handleSubmit=a.handleSubmit.bind(Object(u.a)(a)),a.handleChange=a.handleChange.bind(Object(u.a)(a)),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.state,a=t.email,n=t.password;(new f).post("api/users","auth",{email:a,password:n}).then((function(e){console.log(e),e.status>199&&e.status})).catch((function(e){console.log("login error",e)}))}},{key:"handleChange",value:function(e){switch(e.target.name){case"password":this.setState({password:e.target.value});break;case"email":this.setState({email:e.target.value});break;case"name":this.setState({name:e.target.value})}}},{key:"render",value:function(){return s.a.createElement("div",{className:"form form__auth block__centered"},s.a.createElement("div",{className:"form__image"},s.a.createElement(A.a,{icon:x.n,size:"7x",color:"gold"})),s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("input",{className:"input__element input__group",type:"text",name:"name",placeholder:"Name",value:this.state.name,onChange:this.handleChange}),s.a.createElement("input",{className:"input__element input__group",type:"email",name:"email",value:this.state.email,placeholder:"Email",onChange:this.handleChange}),s.a.createElement("input",{className:"input__element input__group",type:"password",name:"password",value:this.state.password,placeholder:"Password",onChange:this.handleChange,autoComplete:"password"}),s.a.createElement("button",{className:"form__button",type:"submit"},"Sign Up")),s.a.createElement(N,{mode:o.SIGNUP}))}}]),t}(n.Component),M=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(_.a)(t).call(this,e))).state={email:"",password:"",confirmationPassword:""},a.handleSubmit=a.handleSubmit.bind(Object(u.a)(a)),a.handleChange=a.handleChange.bind(Object(u.a)(a)),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.state,a=t.email,n=t.password;(new f).post("api/users","auth",{email:a,password:n}).then((function(e){console.log(e),e.status>199&&e.status})).catch((function(e){console.log("login error",e)}))}},{key:"handleChange",value:function(e){switch(e.target.name){case"password":this.setState({password:e.target.value});break;case"email":this.setState({email:e.target.value});break;case"confirmationPassword":this.setState({confirmationPassword:e.target.value})}}},{key:"render",value:function(){return s.a.createElement("div",{className:"form form__auth block__centered"},s.a.createElement("div",{className:"form__image"},s.a.createElement(A.a,{icon:x.n,size:"7x",color:"gold"})),s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("input",{className:"input__element input__group",type:"email",name:"email",value:this.state.email,placeholder:"Email",onChange:this.handleChange}),s.a.createElement("input",{className:"input__element input__group",type:"password",name:"confirmationPassword",placeholder:"Name",autoComplete:"",value:this.state.confirmationPassword,onChange:this.handleChange}),s.a.createElement("input",{className:"input__element input__group",type:"password",name:"password",value:this.state.password,placeholder:"Password",onChange:this.handleChange,autoComplete:"password"}),s.a.createElement("button",{className:"form__button",type:"submit"},"Reset")),s.a.createElement(N,{mode:o.RESET}))}}]),t}(n.Component),G=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e="bar-top__user_bar__item";return s.a.createElement("header",{className:"bar-top"},s.a.createElement("div",{className:"bar-top__logo"},"virtus"),s.a.createElement("button",{className:"bar-top__menu_toggler"},"Menu"),s.a.createElement("div",{className:"bar-top__user_bar"},s.a.createElement("span",{className:e+" bar-top__user_bar__add_block"},s.a.createElement("span",null,"Add"),s.a.createElement(A.a,{icon:x.j,className:e})),s.a.createElement(A.a,{icon:x.k,className:e}),s.a.createElement(A.a,{icon:x.c,className:e}),s.a.createElement("span",{className:e},s.a.createElement("img",{src:"https://s.yimg.com/ny/api/res/1.2/wtzeNGYJlWn1YCuOXKy3DQ--~A/YXBwaWQ9aGlnaGxhbmRlcjtzbT0xO3c9ODAw/http://media.zenfs.com/en/homerun/feed_manager_auto_publish_494/69212554e5b1b94435cb5d1f9f0d2fbd",alt:"user avatar",className:"bar-top__user_bar__avatar"}),s.a.createElement(A.a,{icon:x.e,className:e}))))}}]),t}(n.Component),I=function(e){function t(e){var a;return Object(l.a)(this,t),a=Object(m.a)(this,Object(_.a)(t).call(this,e)),(new C).change_dashboard_page({page:k.PROJECTS}),a.state={page:k.PROJECTS},localStorage.setItem("dashboard_page",k.PROJECTS),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"convertStringToPages",value:function(e){switch(e){case"projects":return k.PROJECTS;case"messages":return k.MESSAGES;case"statistics":return k.STATISTICS;case"home":return k.HOME;case"users":return k.USERS}}},{key:"changeDashboardState",value:function(e){switch(console.log(this.state.page),e){case k.PROJECTS:this.setState({page:k.PROJECTS});break;case k.MESSAGES:this.setState({page:k.MESSAGES});break;default:this.setState({page:k.PROJECTS})}localStorage.dashboard_page=this.state.page}},{key:"list_item",value:function(e,t){var a=this;return s.a.createElement("li",{className:"bar-side__item",key:t},s.a.createElement(A.a,{icon:e,onClick:function(){a.changeDashboardState(t)}}))}},{key:"render",value:function(){var e=this,t=[x.i,x.b,x.d,x.h,x.o],a=[k.HOME,k.PROJECTS,,k.STATISTICS,k.MESSAGES,k.USERS];return s.a.createElement("aside",{className:"bar-side"},s.a.createElement("ul",{className:"bar-side__list_wrapper"},t.map((function(t,n){return e.list_item(t,a[n])}))))}}]),t}(n.Component),R=a(10),J=a.n(R),L=a(15),z=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"loader loader_centered loader_animated"},s.a.createElement(A.a,{icon:x.l,className:"loader_icon "}))}}]),t}(n.Component),H=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(_.a)(t).call(this,e))).state={amount:a.props.amount},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("header",{className:"main_content__header"},s.a.createElement("div",{className:"main_content__group"},s.a.createElement("span",{className:"main_content__group__item"},"All Projects (",this.state.amount,")"),s.a.createElement("span",{className:"main_content__group__item"},"Workflow")),s.a.createElement("div",{className:"main_content__group"},s.a.createElement("span",{className:"main_content__group__item main_content__group__item-white"},"Show projects:"),s.a.createElement("select",{name:"projects",id:"projects",className:"main_content__header__select"},s.a.createElement("option",{value:"all",className:"main_content__messages__header__option"},"All"))))}}]),t}(n.Component),U=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(_.a)(t).call(this,e))).state={inbox:a.props.inbox},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("header",{className:"main_content__header"},s.a.createElement("div",{className:"main_content__group"},s.a.createElement("span",{className:"main_content__group__item"},s.a.createElement("i",{className:"main_content__header__icon fas fa-inbox"}),s.a.createElement("i",null,"Inbox(",this.state.inbox,")")),s.a.createElement("span",{className:"main_content__group__item"},s.a.createElement("i",{className:"main_content__header__icon fab fa-telegram-plane"}),s.a.createElement("i",null,"Sent")),s.a.createElement("span",{className:"main_content__group__item"},s.a.createElement("i",{className:"main_content__header__icon fas fa-trash"}),s.a.createElement("i",null,"Trash"))),s.a.createElement("div",{className:"main_content__group"},s.a.createElement("span",{className:"main_content__group__item main_content__group__item-white"},"Show projects:"),s.a.createElement("select",{className:"main_content__header__select"},s.a.createElement("option",{value:"all",defaultValue:"all",className:"main_content__messages__header__option"},"All"))))}}]),t}(n.Component),B=a(24),Y=a.n(B),W=a(21),Q=a.n(W),q=a(29),V=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(s)))).state={open:!1},a.onOpenModal=function(){a.setState({open:!0})},a.onCloseModal=function(){a.setState({open:!1})},a.editRequest=function(e,t){(new f).put("https://".concat(b,"/api/project/").concat(e),"no_token",t)},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.open;return s.a.createElement("div",{className:"modal-window"},s.a.createElement(A.a,{icon:x.f,className:"table__color_main_success table__icon __close_btn",onClick:this.onOpenModal}),s.a.createElement(q.a,{open:e,onClose:this.onCloseModal,center:!0},s.a.createElement("div",{className:"modal-window__flex-container"},s.a.createElement("form",{action:"",className:"modal-window__form"},s.a.createElement("input",{type:"text",className:"modal-window__form__input",placeholder:"Field"}),s.a.createElement("input",{type:"text",className:"modal-window__form__input",name:"",id:"",placeholder:"New Value"}),s.a.createElement("button",{type:"submit",className:"modal-window__form__button"},"Submit")))))}}]),t}(n.Component),F=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(s)))).state={open:!1},a.onOpenModal=function(){a.setState({open:!0})},a.onCloseModal=function(){a.setState({open:!1})},a.editRequest=function(e,t){(new f).post("https://".concat(b,"/api/project/").concat(e),"no_token",t)},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.open;return s.a.createElement("div",{className:"modal-window"},s.a.createElement(A.a,{icon:x.j,className:"table__color_main_success table__icon __close_btn",onClick:this.onOpenModal}),s.a.createElement(q.a,{open:e,onClose:this.onCloseModal,center:!0},s.a.createElement("div",{className:"modal-window__flex-container"},s.a.createElement("form",{action:"",className:"modal-window__form"},s.a.createElement("input",{type:"text",className:"modal-window__form__input",placeholder:"Field"}),s.a.createElement("input",{type:"text",className:"modal-window__form__input",name:"title",placeholder:"New Value"}),s.a.createElement("input",{type:"text",className:"modal-window__form__input",name:"company",placeholder:"Field"}),s.a.createElement("input",{type:"text",className:"modal-window__form__input",name:"cost",placeholder:"New Value"}),s.a.createElement("input",{type:"date",className:"modal-window__form__input",name:"deadline",placeholder:"Field"}),s.a.createElement("input",{type:"text",className:"modal-window__form__input",name:"assigned",placeholder:"New Value"}),s.a.createElement("button",{type:"submit",className:"modal-window__form__button"},"Add Project")))))}}]),t}(n.Component),X=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(s)))).removeElement=function(){var e=a.props.id;(new f).delete("https:".concat(b,"/api/projects/").concat(e),"no_token").then((function(e){e.status>199&&e.status<400&&alert("Successfully remove element")})).catch((function(e){alert(e)}))},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(F,null),s.a.createElement(V,null),s.a.createElement("div",{className:"table__data-center"},s.a.createElement(A.a,{onClick:this.removeElement,icon:x.m,className:"table__color_main_success table__icon table__icon_danger __close_btn"})))}}]),t}(n.Component),K=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(_.a)(t).call(this,e))).onHover=function(){a.setState({hover:!0})},a.onLeave=function(){a.setState({hover:!1})},a.state={hover:!1,id:a.props.id},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.hover,a=e.id;return s.a.createElement("div",{onMouseLeave:this.onLeave},t?s.a.createElement(X,{id:a}):s.a.createElement(A.a,{onMouseEnter:this.onHover,icon:x.g,className:"table__color_main_success table__icon __close_btn"}))}}]),t}(n.Component),Z=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(_.a)(t).call(this,e))).state={data:a.props.data},document.title="Projects",a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"sort",value:function(e){switch(e){case"title":return this.state.data.sort((function(e,t){return e.title.toLowerCase()<t.title.toLowerCase()?-1:e.title.toLowerCase()?1:0}));case"value":return this.state.data.sort((function(e,t){return e.cost-t.cost}));case"deadline":return this.state.data.sort((function(e,t){return e.deadline<t.deadline?-1:e.title.toLowerCase()?1:0}));case"time":return this.state.data.sort((function(e,t){return e.timeSpent-t.timeSpent}));case"progress":return this.state.data.sort((function(e,t){return e.progress-t.progress}));case"status":return this.state.data.sort((function(e,t){return e.status.toLowerCase()<t.status.toLowerCase()?-1:e.title.toLowerCase()?1:0}))}}},{key:"table_field",value:function(e,t){var a="",n="",r="";return 100===e.progress?(a="table__row_success",n="table__color_main_success",r="table__color_secondary_success"):e.progress<100&&e.progress>0?(a="table__row_in-progress",n="table__color_main_in-progress",r="table__color_secondary_in-progess"):(a="table__row",n="table__color_main",r="table__color_secondary"),s.a.createElement("tr",{className:a,key:t,id:e._id},s.a.createElement("td",{className:"table__data"},s.a.createElement("p",{className:n},e.title),s.a.createElement("p",{className:r},e.company)),s.a.createElement("td",{className:n+" table__data"},e.cost),s.a.createElement("td",{className:n+" table__data"},s.a.createElement("p",{className:n},s.a.createElement("span",null,new Date(e.deadline).getDate()," "),s.a.createElement("span",null,this.humanityMonthName(new Date(e.deadline).getMonth())," "),s.a.createElement("span",{className:r},new Date(e.deadline).getFullYear())),s.a.createElement("p",{className:n}," ",Q()(e.updated_at).fromNow(!0)," ")),s.a.createElement("td",{className:n+" table__data"},e.timeSpent," hours"),s.a.createElement("td",{className:n+" table__data"},s.a.createElement("span",null,e.progress,"% "),this.generateProgress(e)),s.a.createElement("td",{className:n+" table__data"},e.status),s.a.createElement("td",{className:n+" table__data table__img_block"},s.a.createElement("span",{className:"table__img_block table__element"},s.a.createElement("img",{src:"https://i.pinimg.com/originals/97/e4/2a/97e42a82fc7911961d3ca55f54d1372c.jpg",className:"table__img_block__img",alt:"user avatar"})),s.a.createElement("span",null,Y()(e.assigned,"name").safeObject,"  ",s.a.createElement("br",null),Y()(e.assigned,"position").safeObject)),s.a.createElement("td",{className:n+" modal_toggler"},s.a.createElement(K,{id:e._id})))}},{key:"humanityMonthName",value:function(e){return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].filter((function(t,a){return a===e}))}},{key:"generateProgress",value:function(e){return e.progress<100?s.a.createElement("progress",{className:"progress progress_pending",max:"100",value:e.progress}):s.a.createElement("progress",{className:"progress progress_success",max:"100",value:e.progress})}},{key:"render",value:function(){var e=this;return s.a.createElement("table",{className:"table"},s.a.createElement("thead",{className:"table__header",key:"thead"},s.a.createElement("tr",{className:"table__color_secondary"},s.a.createElement("th",{className:"table__header__item",onClick:function(){e.sort("title")}},"Project title"),s.a.createElement("th",{className:"table__header__item"},"Value"),s.a.createElement("th",{className:"table__header__item"},"Deadline"),s.a.createElement("th",{className:"table__header__item"},"Time spent"),s.a.createElement("th",{className:"table__header__item"},"Progress"),s.a.createElement("th",{className:"table__header__item"},"Status"),s.a.createElement("th",{className:"table__header__item"},"Assigned to"))),s.a.createElement("tbody",{className:"table__body",key:"tbody"},this.state.data.map((function(t,a){return e.table_field(t,a)}))))}}]),t}(n.Component),$=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(_.a)(t).call(this,e))).get_projects_data(),a.state={projectsAmount:0,table:[]},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"get_projects_data",value:function(){var e=Object(L.a)(J.a.mark((function e(){var t;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new f).get("api/projects","access").then((function(e){return e}));case 2:(t=e.sent).status>199&&t.status<400?(Object.keys(t.data).map((function(e){return t.data[e]})),this.setState({projectsAmount:t.data.length,table:t.data}),(new C).add({projectsAmount:t.data.length})):alert("Error loading data from server");case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"projectsComponent",value:function(){return[s.a.createElement(H,{amount:this.state.projectsAmount}),s.a.createElement("section",{className:"main_content__section"},s.a.createElement(Z,{data:this.state.table}))]}},{key:"render",value:function(){return this.state.table.length>1?[s.a.createElement(H,{amount:this.state.projectsAmount}),s.a.createElement("section",{className:"main_content__section"},s.a.createElement(Z,{data:this.state.table}))]:s.a.createElement(z,null)}}]),t}(n.Component),ee=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(_.a)(t).call(this,e))).get_threads_messages(),a.get_users_server_data(),a.state={users:[],users_amount:0,thread:[],thread_amount:0},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"get_users_server_data",value:function(){var e=Object(L.a)(J.a.mark((function e(){var t;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new f).get("api/users/all","access").then((function(e){return e}));case 2:(t=e.sent).status>199&&t.status<400&&this.setState({users:t.data,users_amount:t.data.length});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"get_threads_messages",value:function(){var e=Object(L.a)(J.a.mark((function e(){var t;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new f).get("api/threads/messages/5e1a1c818ec2f49ab3e59ab2","access").then((function(e){return e}));case 2:(t=e.sent).status>199&&t.status<400&&this.setState({thread:t.data,thread_amount:t.data.length});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"user_field",value:function(e){return s.a.createElement("li",{key:e._id,className:"main_content__item__wrapper main_content__list_item main_content__list__border"},s.a.createElement("article",{className:"main_content__item__wrapper"},s.a.createElement("div",{className:"main_content__flex_container main_content__flex_container_justify-content"},s.a.createElement("div",{className:"main_contnet__wrapper"},s.a.createElement("span",{className:"main_content__item__photo"},s.a.createElement(A.a,{icon:x.n,size:"2x",className:"main_content__item__img_tag"})),s.a.createElement("span",{className:"main_content__item__header"},Y()(e,"user.name").safeObject)),s.a.createElement("div",{className:"main_contnet__wrapper"},s.a.createElement("span",{className:"main_content__item__subheader color_blue text_base"},Q()(e.created_at).fromNow()))),s.a.createElement("div",{className:"main_content__item__flex_block main_content__indent"},s.a.createElement("span",{className:"main_content__item__base text_base"},e.body))))}},{key:"render",value:function(){var e=this;return this.state.users.length?s.a.createElement("article",{className:"main_content__item box_shadow"},s.a.createElement("ul",{className:"main_content__list__item"},this.state.thread.map((function(t){return e.user_field(t)})))):s.a.createElement("div",null)}}]),t}(n.Component),te=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.handleSubmit=this.handleSubmit.bind(this),this.handleChange=this.handleChange.bind(this)}},{key:"getId",value:function(){if(localStorage.getItem("user_id"))return localStorage.getItem("user_id")}},{key:"handleChange",value:function(e){switch(e.target.name){case"message":this.setState({message:e.target.value})}}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.state.message;(new f).post("api/threads/messages","access",{thread:{_id:this.getId()},message:{body:t}})}},{key:"render",value:function(){return s.a.createElement("article",{className:"main_content__input__wrapper"},s.a.createElement("input",{onChange:this.handleChange,type:"text",name:"message",className:"main_content__input_tag"}),s.a.createElement("span",{className:"main_content__input__icon"},s.a.createElement(A.a,{icon:x.a,size:"lg",onClick:this.handleSubmit})))}}]),t}(n.Component),ae=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(_.a)(t).call(this,e))).state={data:[]},a.get_server_data(),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"get_server_data",value:function(){var e=Object(L.a)(J.a.mark((function e(){var t;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new f).get("api/threads/messages/5e1a1c818ec2f49ab3e59ab2?sort=desc","access").then((function(e){return e}));case 2:(t=e.sent).status>199&&t.status<400&&this.setState({data:t.data});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"field",value:function(e,t,a){var n="";return t<a.length-1?a[t]._id===a[t+1]._id&&(n="_left"):n="_right",s.a.createElement("li",{key:e._id,className:"main_content__list__item"+n+"box_shadow-indent"},s.a.createElement("article",{className:"main_content__item__wrapper"},s.a.createElement("div",{className:"main_content__flex_container"+n+" main_content__flex_container box_shadow-rounded main_content__list__item-width_fit"},s.a.createElement("div",{className:"main_contnet__wrapper"},s.a.createElement("span",{className:"main_content__item__photo"},s.a.createElement(A.a,{icon:x.n,size:"2x",className:"main_content__item__img_tag"}))),s.a.createElement("div",{className:"main_contnet__wrapper"},s.a.createElement("span",{className:"main_content__item__subheader color_base"},e.body))),s.a.createElement("div",{className:"main_content__list__item"+n+" main_content__item__flex_block"},s.a.createElement("span",{className:"main_content__item__base text_small color_secondary"},Q()(e.created_at).fromNow()))))}},{key:"render",value:function(){var e=this;return this.state.data.length?s.a.createElement("article",{className:"main_content__item"},s.a.createElement("ul",{className:"main_content__list__item"},this.state.data.map((function(t,a,n){return e.field(t,a,n)}))),s.a.createElement(te,null)):s.a.createElement("div",null)}}]),t}(n.Component),ne=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(_.a)(t).call(this,e))).state={data:{_id:"",name:"",email:"",position:"",phone:"",organization:"",address:"",description:""}},a.get_current_user(),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"get_current_user",value:function(){var e=Object(L.a)(J.a.mark((function e(){var t;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new f).get("api/users/".concat(localStorage.getItem("user_id")),"access").then((function(e){return e}));case 2:(t=e.sent).status>199&&t.status<400&&this.setState({data:t.data});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"generateArticle",value:function(e){return e.description="Lorem ipsum dolor sit amet consectetur, adipisicing elit. Atque neque quae laudantium amet dolores repellat libero perspiciatis dolor optio doloribus! Error molestias eos sapiente rem exercitationem ad ipsum fugiat perferendis.",s.a.createElement("div",{className:"main_content__item"},s.a.createElement("div",{className:"main_content__item__wrapper"},s.a.createElement("div",{className:"main_content__item__photo"},s.a.createElement("img",{src:"https://s.yimg.com/ny/api/res/1.2/wtzeNGYJlWn1YCuOXKy3DQ--~A/YXBwaWQ9aGlnaGxhbmRlcjtzbT0xO3c9ODAw/http://media.zenfs.com/en/homerun/feed_manager_auto_publish_494/69212554e5b1b94435cb5d1f9f0d2fbd",alt:"user logo",className:"main_content__item__img_tag-large"})),s.a.createElement("div",{className:"main_content__item__wrapper_center"},s.a.createElement("p",{className:"main_content__item__header"},e.name),s.a.createElement("p",{className:"main_content__item__subheader"},e.position),s.a.createElement("p",{className:"main_content__item__base color_secondary"},e.description)),s.a.createElement("div",{className:"main_content__item__wrapper_center"},s.a.createElement("div",null,s.a.createElement("p",{className:"main_content__item__label"},"Email"),s.a.createElement("p",{className:"main_content__item__base"},e.email)),s.a.createElement("div",null,s.a.createElement("p",{className:"main_content__item__label"},"Phone"),s.a.createElement("p",{className:"main_content__item__base"},e.phone)),s.a.createElement("div",null,s.a.createElement("p",{className:"main_content__item__label"},"Address"),s.a.createElement("p",{className:"main_content__item__base"},e.address)),s.a.createElement("div",null,s.a.createElement("p",{className:"main_content__item__label"},"Organization"),s.a.createElement("p",{className:"main_content__item__base"},e.organization)))))}},{key:"render",value:function(){return this.state.data._id?this.generateArticle(this.state.data):s.a.createElement("div",null)}}]),t}(n.Component),se=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(_.a)(t).call(this,e))).get_thread_server_data(),a.get_current_user(),a.state={thread:[],thread_amount:0,current_user:{name:"",_id:"",email:""}},document.title="Messages",a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"get_thread_server_data",value:function(){var e=Object(L.a)(J.a.mark((function e(){var t;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new f).get("api/threads?sort=desc","access").then((function(e){return e}));case 2:(t=e.sent).status>199&&t.status<400&&this.setState({thread:t.data,thread_amount:t.data.length});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"get_current_user",value:function(){var e=Object(L.a)(J.a.mark((function e(){var t;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new f).get("api/users","access").then((function(e){return e}));case 2:(t=e.sent).status>199&&t.status<400&&this.setState({current_user:t.data});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"messagerComponent",value:function(e){return[s.a.createElement(U,{inbox:e.length}),s.a.createElement("section",{className:"main_content__section"},s.a.createElement(ee,{thread:this.state.thread}),s.a.createElement(ae,null),s.a.createElement(ne,null))]}},{key:"render",value:function(){var e=this.state.thread;return this.state.thread.length?[s.a.createElement(U,{inbox:e.length}),s.a.createElement("section",{className:"main_content__section"},s.a.createElement(ee,{thread:this.state.thread}),s.a.createElement(ae,null),s.a.createElement(ne,null))]:s.a.createElement(z,null)}}]),t}(n.Component);!function(e){e.PROJECTS="projects",e.MESSAGES="messages",e.HOME="home",e.STATISTICS="statistics",e.USERS="users"}(k||(k={}));var re=function(e){function t(e){var a;return Object(l.a)(this,t),a=Object(m.a)(this,Object(_.a)(t).call(this,e)),localStorage.setItem("dashboard_page",k.PROJECTS),a.state={page:k.MESSAGES},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentWillUpdate",value:function(){this.render()}},{key:"redirectToHome",value:function(){return s.a.createElement(T.a,{to:"/"})}},{key:"Content",value:function(){switch(this.state.page){case k.MESSAGES:return[s.a.createElement(G,null),s.a.createElement("div",{className:"main_content__wrapper"},s.a.createElement(I,null),s.a.createElement("main",{className:"main_content"},s.a.createElement(se,{key:k.MESSAGES})))];case k.PROJECTS:return[s.a.createElement(G,null),s.a.createElement("div",{className:"main_content__wrapper"},s.a.createElement(I,null),s.a.createElement("main",{className:"main_content"},s.a.createElement($,{key:k.PROJECTS})))]}}},{key:"render",value:function(){return localStorage.getItem("user_id")?this.Content():this.redirectToHome()}}]),t}(n.Component),ce=a(49);c.a.render(s.a.createElement(ce.a,{key:"navigation_store",store:S},s.a.createElement(g.a,{key:"navigation"},s.a.createElement(T.d,null,s.a.createElement(T.b,{exact:!0,path:"/",component:D,key:"login"}),s.a.createElement(T.b,{path:"/reset",component:M,key:"reset password"}),s.a.createElement(T.b,{path:"/signup",component:P,key:"signup"}),s.a.createElement(T.b,{path:"/dashboard",component:re,key:"dashboard"})))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[51,1,2]]]);
//# sourceMappingURL=main.23f27dd0.chunk.js.map